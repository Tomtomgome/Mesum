\hypertarget{_api_abstraction_8hpp_source}{}\doxysection{Api\+Abstraction.\+hpp}
\label{_api_abstraction_8hpp_source}\index{MesumGraphics/ApiAbstraction.hpp@{MesumGraphics/ApiAbstraction.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include "{}MesumGraphics/Common.hpp"{}}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#ifdef mIfDx12Enabled}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#undef mIfDx12Enabled}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#ifdef mIfVulkanEnabled}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#undef mIfVulkanEnabled}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#if (defined M\_DX12\_RENDERER) \&\& (!defined M\_VK\_IMPLEMENTAITON)}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include "{}DX12Renderer/Includes.hpp"{}}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#define mIfDx12Enabled(a\_something) a\_something}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#define mIfDx12Enabled(a\_something)}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// M\_DX12\_RENDERER}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{preprocessor}{\#if (defined M\_VULKAN\_RENDERER) \&\& (!defined M\_DX12\_IMPLEMENTAITON)}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include "{}VulkanRenderer/Includes.hpp"{}}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#define mIfVulkanEnabled(a\_something) a\_something}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#define mIfVulkanEnabled(a\_something)}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// M\_VULKAN\_RENDERER}}
\DoxyCodeLine{26 }
\DoxyCodeLine{31 }
\DoxyCodeLine{35 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacem_1_1aa}{m::aa}}}
\DoxyCodeLine{36 \{}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#define mDeclare\_virtualFunction(ret, name, ...) \(\backslash\)}}
\DoxyCodeLine{45 \textcolor{preprocessor}{    typedef ret (*name\#\#Type)(\_\_VA\_ARGS\_\_);      \(\backslash\)}}
\DoxyCodeLine{46 \textcolor{preprocessor}{    name\#\#Type name;}}
\DoxyCodeLine{47 }
\DoxyCodeLine{51 \textcolor{preprocessor}{\#define mDeclare\_virtualMemberFunction\_\_(ret, name, parentType, ...)    \(\backslash\)}}
\DoxyCodeLine{52 \textcolor{preprocessor}{    mDeclare\_virtualFunction(ret, name\#\#Internal, parentType\&,          \(\backslash\)}}
\DoxyCodeLine{53 \textcolor{preprocessor}{                             \_\_VA\_ARGS\_\_) template <typename... t\_Args> \(\backslash\)}}
\DoxyCodeLine{54 \textcolor{preprocessor}{    inline ret name(t\_Args... a\_args)                                   \(\backslash\)}}
\DoxyCodeLine{55 \textcolor{preprocessor}{    \{                                                                   \(\backslash\)}}
\DoxyCodeLine{56 \textcolor{preprocessor}{        mAssert(name\#\#Internal != nullptr);                             \(\backslash\)}}
\DoxyCodeLine{57 \textcolor{preprocessor}{        return name\#\#Internal(*this, a\_args...);                        \(\backslash\)}}
\DoxyCodeLine{58 \textcolor{preprocessor}{    \}}}
\DoxyCodeLine{59 }
\DoxyCodeLine{69 \textcolor{preprocessor}{\#define mDeclare\_virtualMemberFunction(parentType, ret, name, ...) \(\backslash\)}}
\DoxyCodeLine{70 \textcolor{preprocessor}{    mDeclare\_virtualMemberFunction\_\_(ret, name, parentType, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{71 }
\DoxyCodeLine{75 \textcolor{preprocessor}{\#define mLink\_virtualMemberFunction(a\_o, a\_if) a\_o.a\_if\#\#Internal = a\_if}}
\DoxyCodeLine{76 }
\DoxyCodeLine{80 \textcolor{preprocessor}{\#define mLink\_virtualMemberFunctionEXT(a\_o, a\_if, a\_f) a\_o.a\_if\#\#Internal = a\_f}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82 \textcolor{keyword}{struct }\mbox{\hyperlink{structm_1_1aa_1_1m_device}{mDevice}}}
\DoxyCodeLine{83 \{}
\DoxyCodeLine{84 \};}
\DoxyCodeLine{85 }
\DoxyCodeLine{89 \textcolor{keyword}{struct }\mbox{\hyperlink{structm_1_1aa_1_1m_adapter}{mAdapter}}}
\DoxyCodeLine{90 \{}
\DoxyCodeLine{94     \textcolor{keyword}{enum} \mbox{\hyperlink{structm_1_1aa_1_1m_adapter_a80a3d080fb5a52f8d8e4f1a4eba8fd0b}{DeviceType}}}
\DoxyCodeLine{95     \{}
\DoxyCodeLine{96         deviceOther,}
\DoxyCodeLine{97         deviceIntegrated,}
\DoxyCodeLine{98         deviceDescrete,}
\DoxyCodeLine{99         deviceVirtual,}
\DoxyCodeLine{100         deviceCpu}
\DoxyCodeLine{101     \};}
\DoxyCodeLine{102 }
\DoxyCodeLine{103     \textcolor{keyword}{struct }\mbox{\hyperlink{structm_1_1aa_1_1m_adapter_1_1_limits}{Limits}}}
\DoxyCodeLine{104     \{}
\DoxyCodeLine{105     \};}
\DoxyCodeLine{106 }
\DoxyCodeLine{107     \textcolor{keyword}{struct }\mbox{\hyperlink{structm_1_1aa_1_1m_adapter_1_1_properties}{Properties}}}
\DoxyCodeLine{108     \{}
\DoxyCodeLine{109         mU32       idVendor;}
\DoxyCodeLine{110         mU32       idDevice;}
\DoxyCodeLine{111         \mbox{\hyperlink{structm_1_1aa_1_1m_adapter_a80a3d080fb5a52f8d8e4f1a4eba8fd0b}{DeviceType}} type;}
\DoxyCodeLine{112         \mbox{\hyperlink{structm_1_1aa_1_1m_adapter_1_1_limits}{Limits}}     limits;}
\DoxyCodeLine{113     \};}
\DoxyCodeLine{114 }
\DoxyCodeLine{115     mDeclare\_virtualMemberFunction(\mbox{\hyperlink{structm_1_1aa_1_1m_adapter}{mAdapter}}, \textcolor{keywordtype}{void}, init);}
\DoxyCodeLine{116     mDeclare\_virtualMemberFunction(\mbox{\hyperlink{structm_1_1aa_1_1m_adapter}{mAdapter}}, \textcolor{keywordtype}{void}, destroy);}
\DoxyCodeLine{117 }
\DoxyCodeLine{118     \mbox{\hyperlink{structm_1_1aa_1_1m_adapter_1_1_properties}{Properties}} properties;}
\DoxyCodeLine{119     \textcolor{keyword}{union}}
\DoxyCodeLine{120     \{}
\DoxyCodeLine{121         mIfDx12Enabled(\textcolor{keyword}{struct} \{ IDXGIAdapter4* adapter; \} dx12;);}
\DoxyCodeLine{122         mIfVulkanEnabled(\textcolor{keyword}{struct} \{VkPhysicalDevice physicalDevice;\} vulkan;);}
\DoxyCodeLine{123     \} \textcolor{keyword}{internal};}
\DoxyCodeLine{124 \};}
\DoxyCodeLine{125 }
\DoxyCodeLine{129 \textcolor{keyword}{struct }\mbox{\hyperlink{structm_1_1aa_1_1m_api}{mApi}}}
\DoxyCodeLine{130 \{}
\DoxyCodeLine{134     \textcolor{keyword}{struct }\mbox{\hyperlink{structm_1_1aa_1_1m_api_1_1_init_data}{InitData}}}
\DoxyCodeLine{135     \{}
\DoxyCodeLine{136         \textcolor{keywordtype}{bool} enableDebug;}
\DoxyCodeLine{137         \textcolor{comment}{// Debug flags}}
\DoxyCodeLine{138     \};}
\DoxyCodeLine{139 }
\DoxyCodeLine{140     mDeclare\_virtualMemberFunction(\mbox{\hyperlink{structm_1_1aa_1_1m_api}{mApi}}, \textcolor{keywordtype}{void}, init, \mbox{\hyperlink{structm_1_1aa_1_1m_api_1_1_init_data}{mApi::InitData}} \textcolor{keyword}{const}\&);}
\DoxyCodeLine{141     mDeclare\_virtualMemberFunction(\mbox{\hyperlink{structm_1_1aa_1_1m_api}{mApi}}, \textcolor{keywordtype}{void}, destroy);}
\DoxyCodeLine{142     mDeclare\_virtualMemberFunction(\mbox{\hyperlink{structm_1_1aa_1_1m_api}{mApi}}, \textcolor{keywordtype}{void}, enumerate\_adapter,}
\DoxyCodeLine{143                                    std::vector<mAdapter>\& a\_adapters);}
\DoxyCodeLine{144     mDeclare\_virtualFunction(\mbox{\hyperlink{structm_1_1aa_1_1m_adapter}{mAdapter}}, create\_adapter);}
\DoxyCodeLine{145 }
\DoxyCodeLine{146     \textcolor{keywordtype}{bool} debugEnabled;}
\DoxyCodeLine{147     \textcolor{keyword}{union}}
\DoxyCodeLine{148     \{}
\DoxyCodeLine{149         mIfDx12Enabled(\textcolor{keyword}{struct} \{ IDXGIFactory4* factory; \} dx12;);}
\DoxyCodeLine{150         mIfVulkanEnabled(\textcolor{keyword}{struct}}
\DoxyCodeLine{151                          \{}
\DoxyCodeLine{152                              VkInstance               instance;}
\DoxyCodeLine{153                              VkDebugUtilsMessengerEXT debugUtil;}
\DoxyCodeLine{154                          \} vulkan;);}
\DoxyCodeLine{155     \} \textcolor{keyword}{internal};}
\DoxyCodeLine{156 \};}
\DoxyCodeLine{157 }
\DoxyCodeLine{158 mIfDx12Enabled(\textcolor{keyword}{namespace} dx12 \{ mApi create\_api(); \});}
\DoxyCodeLine{159 mIfVulkanEnabled(\textcolor{keyword}{namespace} vulkan \{ mApi create\_api(); \});}
\DoxyCodeLine{160 }
\DoxyCodeLine{161 \};  \textcolor{comment}{// namespace m::aa}}
\DoxyCodeLine{162 }
\DoxyCodeLine{165 }

\end{DoxyCode}
