\hypertarget{_windowed_app_8hpp_source}{}\doxysection{Windowed\+App.\+hpp}
\label{_windowed_app_8hpp_source}\index{MesumGraphics/WindowedApp.hpp@{MesumGraphics/WindowedApp.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef M\_WINDOWEDAPP}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define M\_WINDOWEDAPP}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <MesumCore/Common/CoreCommon.hpp>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <MesumCore/Kernel/Application.hpp>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <MesumCore/Kernel/Mains.hpp>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <MesumGraphics/Common.hpp>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <MesumGraphics/Renderer.hpp>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{keyword}{namespace }m}
\DoxyCodeLine{14 \{}
\DoxyCodeLine{15 \textcolor{keyword}{namespace }windows}
\DoxyCodeLine{16 \{}
\DoxyCodeLine{17 \textcolor{keyword}{class }mIWindow;}
\DoxyCodeLine{18 \}}
\DoxyCodeLine{19 \textcolor{keyword}{namespace }application}
\DoxyCodeLine{20 \{}
\DoxyCodeLine{21 \textcolor{keyword}{class }\mbox{\hyperlink{classm_1_1application_1_1_i_windowed_application_base}{IWindowedApplicationBase}} : \textcolor{keyword}{public} \mbox{\hyperlink{classm_1_1application_1_1m_i_timed_loop_application}{mITimedLoopApplication}}}
\DoxyCodeLine{22 \{}
\DoxyCodeLine{23    \textcolor{keyword}{public}:}
\DoxyCodeLine{24     \textcolor{keyword}{virtual} \mbox{\hyperlink{classm_1_1windows_1_1m_i_window}{windows::mIWindow}}* add\_newWindow(std::string a\_name, mU32 a\_width,}
\DoxyCodeLine{25                                              mU32  a\_height,}
\DoxyCodeLine{26                                              mBool a\_isTransparent) = 0;}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} start\_dearImGuiNewFrame(}
\DoxyCodeLine{29         \mbox{\hyperlink{classm_1_1render_1_1_i_renderer}{render::IRenderer}} \textcolor{keyword}{const}* a\_renderer) \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{30 \};}
\DoxyCodeLine{31 \}  \textcolor{comment}{// namespace application}}
\DoxyCodeLine{32 \};  \textcolor{comment}{// namespace m}}
\DoxyCodeLine{33 }
\DoxyCodeLine{34 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{35 \textcolor{comment}{// Windowed entry point}}
\DoxyCodeLine{36 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#if defined M\_WIN32}}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 \textcolor{keyword}{namespace }m}
\DoxyCodeLine{40 \{}
\DoxyCodeLine{41 \textcolor{keyword}{struct }WindowedLaunchData}
\DoxyCodeLine{42 \{}
\DoxyCodeLine{43     HINSTANCE m\_hInstance;}
\DoxyCodeLine{44     m::mInt   m\_nCmdShow;}
\DoxyCodeLine{45 \};}
\DoxyCodeLine{46 }
\DoxyCodeLine{47 \textcolor{keywordtype}{bool} init\_console();}
\DoxyCodeLine{48 }
\DoxyCodeLine{49 LPSTR* CommandLineToArgvA(LPWSTR lpWCmdLine, INT* pNumArgs);}
\DoxyCodeLine{50 \}  \textcolor{comment}{// namespace m}}
\DoxyCodeLine{51 \textcolor{preprocessor}{\#define M\_EXECUTE\_WINDOWED\_APP(AppClass)                                     \(\backslash\)}}
\DoxyCodeLine{52 \textcolor{preprocessor}{    m::mInt WINAPI wWinMain(HINSTANCE hInstance, HINSTANCE, PWSTR pCmdLine,  \(\backslash\)}}
\DoxyCodeLine{53 \textcolor{preprocessor}{                            m::mInt nCmdShow)                                \(\backslash\)}}
\DoxyCodeLine{54 \textcolor{preprocessor}{    \{                                                                        \(\backslash\)}}
\DoxyCodeLine{55 \textcolor{preprocessor}{        m::WindowedLaunchData data;                                          \(\backslash\)}}
\DoxyCodeLine{56 \textcolor{preprocessor}{        m::mCmdLine           cmdLine;                                       \(\backslash\)}}
\DoxyCodeLine{57 \textcolor{preprocessor}{        m::mInt               argc;                                          \(\backslash\)}}
\DoxyCodeLine{58 \textcolor{preprocessor}{        m::mChar**            argv = m::CommandLineToArgvA(pCmdLine, \&argc); \(\backslash\)}}
\DoxyCodeLine{59 \textcolor{preprocessor}{        if (argv != nullptr)                                                 \(\backslash\)}}
\DoxyCodeLine{60 \textcolor{preprocessor}{        \{                                                                    \(\backslash\)}}
\DoxyCodeLine{61 \textcolor{preprocessor}{            cmdLine.parse\_cmdLineAguments(argc, argv);                       \(\backslash\)}}
\DoxyCodeLine{62 \textcolor{preprocessor}{            LocalFree(argv);                                                 \(\backslash\)}}
\DoxyCodeLine{63 \textcolor{preprocessor}{        \}                                                                    \(\backslash\)}}
\DoxyCodeLine{64 \textcolor{preprocessor}{        data.m\_hInstance = hInstance;                                        \(\backslash\)}}
\DoxyCodeLine{65 \textcolor{preprocessor}{        data.m\_nCmdShow  = nCmdShow;                                         \(\backslash\)}}
\DoxyCodeLine{66 \textcolor{preprocessor}{        m::init\_console();                                                   \(\backslash\)}}
\DoxyCodeLine{67 \textcolor{preprocessor}{        m::run\_internal<AppClass>(cmdLine, \&data);                           \(\backslash\)}}
\DoxyCodeLine{68 \textcolor{preprocessor}{        FreeConsole();                                                       \(\backslash\)}}
\DoxyCodeLine{69 \textcolor{preprocessor}{        return 0;                                                            \(\backslash\)}}
\DoxyCodeLine{70 \textcolor{preprocessor}{    \}}}
\DoxyCodeLine{71 \textcolor{preprocessor}{\#elif defined M\_UNIX}}
\DoxyCodeLine{72 \textcolor{keyword}{namespace }m}
\DoxyCodeLine{73 \{}
\DoxyCodeLine{74 \textcolor{keyword}{struct }WindowedLaunchData}
\DoxyCodeLine{75 \{}
\DoxyCodeLine{76 \};}
\DoxyCodeLine{77 \}  \textcolor{comment}{// namespace m}}
\DoxyCodeLine{78 \textcolor{preprocessor}{\#define M\_EXECUTE\_WINDOWED\_APP(AppClass)           \(\backslash\)}}
\DoxyCodeLine{79 \textcolor{preprocessor}{    int main(m::mInt argc, m::mChar** argv)        \(\backslash\)}}
\DoxyCodeLine{80 \textcolor{preprocessor}{    \{                                              \(\backslash\)}}
\DoxyCodeLine{81 \textcolor{preprocessor}{        m::WindowedLaunchData data;                \(\backslash\)}}
\DoxyCodeLine{82 \textcolor{preprocessor}{        m::mCmdLine           cmdLine;             \(\backslash\)}}
\DoxyCodeLine{83 \textcolor{preprocessor}{        cmdLine.parse\_cmdLineAguments(argc, argv); \(\backslash\)}}
\DoxyCodeLine{84 \textcolor{preprocessor}{        m::run\_internal<AppClass>(cmdLine, \&data); \(\backslash\)}}
\DoxyCodeLine{85 \textcolor{preprocessor}{        return 0;                                  \(\backslash\)}}
\DoxyCodeLine{86 \textcolor{preprocessor}{    \}}}
\DoxyCodeLine{87 }
\DoxyCodeLine{88 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{89 }
\DoxyCodeLine{90 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// M\_WINDOWEDAPP}}

\end{DoxyCode}
